@model ASI.Basecode.Services.Models.BookViewModel



@{
    // Ensure that the lists are not null. If they are, initialize them as empty.
    // For the ASP.NET Core MVC SelectListItem
    var authorList = ViewBag.AuthorList ?? Enumerable.Empty<Microsoft.AspNetCore.Mvc.Rendering.SelectListItem>();

    // For your custom SelectListItem
    var genreList = ViewBag.genreList ?? Enumerable.Empty<ASI.Basecode.WebApp.Models.SelectListItem>();

}

@{
    ViewBag.ShowSideBar = true; 
    ViewData["Title"] = "Create Book";
}

@using (Html.BeginForm("Create", "Book", FormMethod.Post))
{
    <div class="form-container container">
        <h1 class="form-title">Create New Book</h1>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label asp-for="Name">Title:</label>
                    <input asp-for="Name" class="form-control" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label asp-for="Description">Description:</label>
                    <textarea asp-for="Description" class="form-control"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="AuthorIds">Authors:</label>
                    <select asp-for="AuthorIds" asp-items="@authorList" class="form-control" multiple="multiple">
                        <option value="">-- Select Authors --</option>
                    </select>
                    <span asp-validation-for="AuthorIds" class="text-danger"></span>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="GenreIds">Genres:</label>
                    <select asp-for="GenreIds" asp-items="@genreList" class="form-control" multiple="multiple">
                        <option value="">-- Select Genres --</option>
                    </select>
                    <span asp-validation-for="GenreIds" class="text-danger"></span>
                </div>
            </div>
        </div> 

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label asp-for="ISBN">ISBN:</label>
                    <input asp-for="ISBN" class="form-control" />
                    <span asp-validation-for="ISBN" class="text-danger"></span>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label asp-for="Language">Language:</label>
                    <input asp-for="Language" class="form-control" />
                    <span asp-validation-for="Language" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label asp-for="PublishedOn">Published On:</label>
                    <input asp-for="PublishedOn" type="date" class="form-control" />
                    <span asp-validation-for="PublishedOn" class="text-danger"></span>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label asp-for="PageCount">Page Count:</label>
                    <input asp-for="PageCount" type="number" class="form-control" />
                    <span asp-validation-for="PageCount" class="text-danger"></span>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="Image">Image URL:</label>
                    <input asp-for="Image" class="form-control" />
                    <span asp-validation-for="Image" class="text-danger"></span>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="col-right col-center">
                    <a class="btn-back btn-padd" href="@Url.Action("Index", "Book")">Back to List</a>
                    <button type="submit" class="btn-padd btn btn-skooby">Create</button>
                </div>
            </div>
        </div>
    </div>
}


